# Testing Rules

このプロジェクトのテスト実行ルールを定義します。

## 1. 日常運用（軽量）
- 実行: `runQuickTest()`
- 目的: 日次の開発・小さな修正時に、主要ロジックの破壊を早く検知する
- タイミング:
  - 変更を `clasp push` する前
  - 軽微な修正を複数回繰り返すとき

## 2. リリース前（完全）
- 実行: `runAllTests()`
- 目的: 主要機能の回帰を広く確認してから反映する
- タイミング:
  - 本番反映前（必須）
  - 大きな改修後（UI/集計/設定/時数ロジック）

## 3. 失敗時の扱い
- `runAllTests()` で失敗が1件でもある場合は、原因を解消するまで反映しない
- 失敗ログは `【エラー詳細】` を基準に修正対象を特定する
- テスト自体の不備が疑われる場合も、再現条件を確認してから修正する

## 4. 運用基準
- 目標は「成功率100%」ではなく「重要経路の実質検証」
- 存在確認だけのテストは増やさず、入力/出力/副作用を確認するテストを優先する
- 新機能追加時は、最低1件の正常系と1件の異常系テストを追加する
